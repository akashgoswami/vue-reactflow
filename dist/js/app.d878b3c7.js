(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-reactflow/dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("main",[n("div",{staticClass:"max-w-7xl mx-auto py-2 sm:px-6 lg:px-8"},[n("p",[e._v("This is a demo of running a React component in Vue.js. Drag nodes to the workspace below. To delete a node/edge press Delete. The element lists gets updated in real-time")]),n("div",{staticClass:"px-4 py-6 sm:px-0"},[n("button",{staticClass:"m-2 testNode selectable",attrs:{draggable:""},on:{dragstart:function(t){return e.onDragStart(t,"testNode")}}},[e._v("Test Node")]),n("button",{staticClass:"m-2 conditionNode selectable",attrs:{draggable:""},on:{dragstart:function(t){return e.onDragStart(t,"conditionNode")}}},[e._v("Condition Node")]),n("div",{staticClass:"flex"},[n("div",{staticClass:"w-4/5"},[n("react-flow",{ref:"mygraph",staticClass:"border-2 border-dashed border-gray-200 rounded-lg h-96",staticStyle:{height:"400px",width:"100%"},attrs:{bus:e.bus,state:e.graph},on:{nodeDblClick:e.handleNodeDblClick,edgeDblClick:e.handleNodeDblClick,stateChange:e.onStateChange}})],1),n("div",{staticClass:"w-1/5"},[n("div",{staticClass:"border-2 border-dashed border-gray-200 rounded-lg whitespace-pre text-tiny font-mono  bg-gray-100 "},[e._v(" "+e._s(e.graph)+" ")])])])])])]),n("p")])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"bg-white shadow"},[n("div",{staticClass:"max-w-7xl mx-auto py-2 px-4 sm:px-6 lg:px-8"},[n("h1",{staticClass:"text-xl font-bold text-gray-900"},[e._v(" Vue.js ReactFlow Demo ")])])])}],i=n("b8ae"),s=n("d4ec"),c=n("bee2"),l=n("257e"),d=n("262e"),u=n("2caf"),p=n("ade3"),f=(n("4de4"),n("7db0"),n("99af"),n("d81d"),n("2ca0"),n("1119")),b=n.n(f),g=n("4366");b.a;var h=function(e){return!0},m=function(e){return!0},v=Object(f["memo"])((function(e){var t=e.data,n=e.isConnectable;return b.a.createElement("div",{className:"conditionNode"},b.a.createElement(g["c"],{type:"target",position:"left",data:t,isValidConnection:h,onConnect:function(e){return console.log("handle onConnect",e)},isConnectable:n}),b.a.createElement("div",null,"Condition"),b.a.createElement(g["c"],{type:"source",position:"right",id:"b",isValidConnection:m,isConnectable:n}))}));b.a;var C=function(e){return console.log(e),!0},y=function(e){return console.log(e),!0},O=Object(f["memo"])((function(e){var t=e.data,n=e.isConnectable;return b.a.createElement("div",{className:"testNode"},b.a.createElement(g["c"],{type:"target",position:"left",data:t,style:{background:"#blue"},isValidConnection:C,onConnect:function(e){return console.log("handle onConnect",e)},isConnectable:n}),b.a.createElement("div",null,"Test"),b.a.createElement(g["c"],{type:"source",position:"right",id:"b",isValidConnection:y,style:{background:"#555"},isConnectable:n}))})),j=function(e,t,n){return e.filter((function(e){return t.find((function(t){return e[n]===t[n]}))}))},w=function(e,t,n){return e.filter((function(e){return!t.find((function(t){return e[n]===t[n]}))})).concat(t)},E=function(e){Object(d["a"])(n,e);var t=Object(u["a"])(n);function n(e){var o;return Object(s["a"])(this,n),o=t.call(this,e),Object(p["a"])(Object(l["a"])(o),"nodeTypes",{conditionNode:v,testNode:O}),Object(p["a"])(Object(l["a"])(o),"setElements",(function(e){var t=j(o.state.elements,e.elements,"id"),n=w(t,e.elements,"id");o.setState({elements:n})})),Object(p["a"])(Object(l["a"])(o),"onLoad",(function(e){o.reactFlowInstance=e})),Object(p["a"])(Object(l["a"])(o),"onDragOver",(function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"})),Object(p["a"])(Object(l["a"])(o),"onConnectStart",(function(e,t){var n=t.nodeId,o=t.handleType;return console.log("on connect start",{nodeId:n,handleType:o})})),Object(p["a"])(Object(l["a"])(o),"onConnectStop",(function(e){return console.log("on connect stop",e)})),Object(p["a"])(Object(l["a"])(o),"onConnectEnd",(function(e){return console.log("on connect end",e)})),Object(p["a"])(Object(l["a"])(o),"onEdgeUpdate",(function(e,t){var n=Object(g["g"])(e,t,o.state.elements);o.setState({elements:n}),o.props.stateChange(n)})),Object(p["a"])(Object(l["a"])(o),"onDrop",(function(e){e.preventDefault();var t=o.reactFlowWrapper.current.getBoundingClientRect(),n=e.dataTransfer.getData("application/reactflow"),a=o.reactFlowInstance.project({x:e.clientX-t.left,y:e.clientY-t.top}),r={id:n+Math.ceil(1e3*Math.random()),type:n,position:a,sourcePosition:"right",targetPosition:"left",data:{label:"Test node"}},i=w(o.state.elements,[r],"id");console.log(i),o.setState({elements:i}),o.props.stateChange(i)})),Object(p["a"])(Object(l["a"])(o),"onNodeDoubleClick",(function(e,t){o.props.nodeDblClick(t)})),Object(p["a"])(Object(l["a"])(o),"onEdgeDoubleClick",(function(e,t){o.props.edgeDblClick(t)})),Object(p["a"])(Object(l["a"])(o),"updateElement",(function(e){var t=o.state.elements.map((function(t){return t.id==e.id?e:t}));o.setState({elements:t})})),Object(p["a"])(Object(l["a"])(o),"onElementsRemove",(function(e){var t=e.some((function(e){return"input"==e.type||"output"==e.type}));if(t)window.alert("Could not delete Start or End node");else{var n=Object(g["f"])(e,o.state.elements);o.setState({elements:n}),o.props.stateChange(n)}})),Object(p["a"])(Object(l["a"])(o),"onConnect",(function(e){if(e.target.startsWith("condition")){var t=o.state.elements.some((function(t){return t.target==e.target}));if(t)return void window.alert("A Condition Node can only be connected with a single Source");if(e.source.startsWith("condition"))return void window.alert("Conditions Could not be chained at the moment")}if(e.target.startsWith("test")){if(e.source.startsWith("test"))return void window.alert("Test Could not be chained without a condition in between");var n=o.state.elements.some((function(t){return t.target==e.target}));if(n)return void window.alert("A Test Node can only be connected with a single Condition")}var a=Object(g["d"])(e,o.state.elements);o.setState({elements:a}),o.props.stateChange(a)})),o.state={elements:e.state.elements},e.bus.$on("updateElement",o.updateElement.bind(Object(l["a"])(o))),e.bus.$on("setElements",o.setElements.bind(Object(l["a"])(o))),o.reactFlowWrapper=b.a.createRef(),o.reactFlowInstance=null,o}return Object(c["a"])(n,[{key:"render",value:function(){return b.a.createElement(g["e"],{ref:this.reactFlowWrapper,snapToGrid:!0,onConnectStart:this.onConnectStart,onConnectStop:this.onConnectStop,onConnectEnd:this.onConnectEnd,onNodeDoubleClick:this.onNodeDoubleClick,onEdgeDoubleClick:this.onEdgeDoubleClick,onEdgeUpdate:this.onEdgeUpdate,nodeTypes:this.nodeTypes,onLoad:this.onLoad,elements:this.state.elements,onDragOver:this.onDragOver,onDrop:this.onDrop,onElementsRemove:this.onElementsRemove,onConnect:this.onConnect,deleteKeyCode:46},b.a.createElement(g["b"],null),b.a.createElement(g["a"],{variant:"dots",gap:12,size:.5}))}}]),n}(b.a.Component),D=E,x=function(){function e(){Object(s["a"])(this,e),this.bus={}}return Object(c["a"])(e,[{key:"$off",value:function(e){delete this.bus[e]}},{key:"$on",value:function(e,t){this.bus[e]=t}},{key:"$emit",value:function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];this.bus[e]&&(t=this.bus)[e].apply(t,o)}}]),e}(),k=new x,S={name:"App",components:{"react-flow":Object(i["ReactInVue"])(D)},methods:{handleNodeDblClick:function(e){window.alert(JSON.stringify(e,null,4))},onStateChange:function(e){this.graph={elements:e}},toggleAnimation:function(){this.toggle=!this.toggle,k.$emit("updateElement",{id:"e1-2",source:"1",target:"2",animated:this.toggle})},onDragStart:function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move",console.log("Drag",e)},addNode:function(){this.graph.elements.push({id:Math.ceil(1e3*Math.random())+"",type:"output",data:{label:"Random Node"},position:{x:150+Math.ceil(100*Math.random()),y:150}}),k.$emit("setElements",{elements:this.graph.elements})}},mounted:function(){this.bus.$on("dblClick",this.handleDblClick)},data:function(){return{bus:k,logs:"empty",toggle:!1,graph:{elements:[{id:"start",type:"input",style:{background:"#70de70",borderRadius:50,padding:10},sourcePosition:"right",data:{label:"start"},position:{x:50,y:250}},{id:"finish",type:"output",data:{label:"End"},style:{background:"#ffa4a4",borderRadius:50,padding:10},targetPosition:"left",position:{x:550,y:250}}]}}}},N=S,T=(n("034f"),n("2877")),_=Object(T["a"])(N,a,r,!1,null,null,null),P=_.exports;n("ba8c");o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(P)}}).$mount("#app")},"85ec":function(e,t,n){},ba8c:function(e,t,n){}});
//# sourceMappingURL=app.d878b3c7.js.map